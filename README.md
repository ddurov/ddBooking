ddBooking - документация

Использовались:
1. Самописная библиотека ddCore (https://github.com/ddurov/ddprojects-core),
   (!: Библиотека подтягивает за собой зависимости)
2. Docker
3. Шаблоны программирования MVC, DRY, SRP

Разворачивание проекта:

1. git clone https://github.com/ddurov/ddBooking
2. cp template.env .env
3. отредактировать данные в переменных окружения  
   (ROOT_HOST можно выставить как localhost, API_HOST - booking, тогда для апи будет адрес booking.localhost)
4. make start

Доступ к API:

1. домен/book (POST, принимает ТОЛЬКО barcode, т.к. данные замоканы внутри контроллера, при необходимости, можно быстро раскоментиовать)
2. домен/approve (GET, принимает ТОЛЬКО barcode, возвращает только 1 ошибку (отсутствие самого баркода), т.к. для других нет входных данных)

Для визуального просмотра БД доступен адрес: booking.localhost:8000, логин: user, пароль: DATABASE_PASSWORD из .env

Все типы данных указаны с учётом строгой типизации, модель превращается в БД сущность по указанному типу свойства класса.

Разъяснения решений:

Задание 2.1:  
Изменена структура таблицы с ticket\*Price - ticket\*Quantity на ticketsPrices - ticketsQuantities.
Последние используют массив с парами Ключ => Значение (тип билета) => (цена || кол-во билетов на заказ).  
Пример массивов можно посмотреть в src/OrderController.php

Задание 2.2:  
Баркод в таблице представляет собой строку вида |BC1|BC2|BCn|...|, таким образом получается костыль, при помощи которого  
можно и искать значение по шаблону "%|BC|%", и превращать строку обратно в массив (explode с делителем "|").